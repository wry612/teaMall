!function(e){function r(s){if(o[s])return o[s].exports;var i=o[s]={exports:{},id:s,loaded:!1};return e[s].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}var o={};return r.m=e,r.c=o,r.p="/app/dist/",r(0)}({0:function(e,r,o){o(24),o(47)},24:function(e,r){"use strict";angular.module("register.ctrl",["app.directive"]).controller("registerCtrl",["$scope","$rootScope","appService","$timeout",function(e,r,o,s){e.showImgCode=!0,e.sendCodeUrl="account/sms/checkMobile.do",e.params={mobile:"",code:"",funcCode:"register"},e.registerParams={mobileCode:"",captchaKey:"",password:"",_password:"",agreement:""},e.register=function(){if(!e.params.mobile)return void o.popup("请输入手机号");if(!e.params.code)return void o.popup("请输入图形验证码");if(!e.registerParams.mobileCode)return void o.popup("请输入短信验证码");if(!e.registerParams.password)return void o.popup("请输入8-16位并同时包含字母和数字的密码");if(!e.registerParams._password)return void o.popup("请确认输入的密码");if(e.registerParams.password!=e.registerParams._password)return void o.popup("两次密码输入不同");if(!e.registerParams.agreement)return void o.popup("请阅读并同意《茶企通开户注册协议》");if(!sessionStorage.mobileUniCode)return void o.popup("请获取短信验证码");e.registerParams.captchaKey=sessionStorage.mobileUniCode,e.registerParams.mobile=angular.copy(e.params.mobile),e.registerParams.code=angular.copy(e.params.code);var r="account/customerRegister/register.do";o.post(r,e.registerParams,null,function(e){sessionStorage.removeItem("mobileUniCode"),o.popup("注册成功！",null,function(){appRuler.signIn(e.body,"CUSTOMER",function(){appRuler.toIndexPage()})})},function(r){o.popup(r.msg),e.showImgCode=!1,s(function(){e.showImgCode=!0},50)},!0)}}])},47:function(e,r){}});