!function(a){function e(o){if(r[o])return r[o].exports;var t=r[o]={exports:{},id:o,loaded:!1};return a[o].call(t.exports,t,t.exports,e),t.loaded=!0,t.exports}var r={};return e.m=a,e.c=r,e.p="/app/dist/",e(0)}({0:function(a,e,r){r(7),r(36)},7:function(a,e){"use strict";angular.module("IDauthenStep2.ctrl",[]).controller("IDauthenStep2Ctrl",["$scope","$rootScope","appService","$state","$ionicModal","$stateParams","$ionicHistory",function(a,e,r,o,t,i,n){a.params={provinceId:"",cityId:"",areaId:""},a.params2={memberNo:""},a.params3={code:""},a.proviceList=[],a.cityList=[],a.areaList=[],a.fuzzyList=[],a.fuzzyName="",a.address="",a.addressPre={provinceName:"",cityName:"",areaName:""},a.submitConfirm=function(){return a.params2.memberNo?void a.confirmModal.show():void r.popup("请选择经销商")},a.submit=function(){a.confirmModal.hide();var e="account/fundAccount/bindMember.do";r.post(e,a.params2,{tokenId:sessionStorage.tokenId},function(a){r.popup("绑定成功！",null,function(){appRuler.bindSuccess(function(){o.go("IDauthenSuccess")})})},function(a){r.popup(a.msg)},!0)},a.getProvice=function(e){e&&(a.params3.code="");var o="account/member/province.do";r.post(o,{},{tokenId:sessionStorage.tokenId},function(e){a.proviceList=e.body},function(a){r.popup(a.msg)},!0)},a.getCity=function(e){if(e&&(a.params3.code=""),!a.params.provinceId)return a.params.cityId="",a.cityList=[],a.params.areaId="",a.areaList=[],a.params2.memberNo="",a.fuzzyList=[],void(a.fuzzyName="");for(var o in a.proviceList)a.params.provinceId==a.proviceList[o].provinceID&&(a.addressPre.provinceName=a.proviceList[o].province);var t="account/member/city.do";r.post(t,{provinceId:a.params.provinceId},{tokenId:sessionStorage.tokenId},function(e){a.cityList=e.body},function(a){r.popup(a.msg)},!0)},a.getArea=function(e){if(e&&(a.params3.code=""),!a.params.cityId)return a.params.areaId="",a.areaList=[],a.params2.memberNo="",a.fuzzyList=[],void(a.fuzzyName="");for(var o in a.cityList)a.params.cityId==a.cityList[o].cityID&&(a.addressPre.cityName=a.cityList[o].city);var t="account/member/area.do";r.post(t,{cityId:a.params.cityId},{tokenId:sessionStorage.tokenId},function(e){a.areaList=e.body},function(a){r.popup(a.msg)},!0)},a.getFuzzy=function(e){if(e&&(a.params3.code=""),!a.params.areaId)return a.params2.memberNo="",a.fuzzyList=[],void(a.fuzzyName="");for(var o in a.areaList)a.params.areaId==a.areaList[o].areaID&&(a.addressPre.areaName=a.areaList[o].area);var t="account/member/fuzzyQuery.do",i={provinceCode:angular.copy(a.params.provinceId),cityCode:angular.copy(a.params.cityId),areaCode:angular.copy(a.params.areaId)};r.post(t,i,{tokenId:sessionStorage.tokenId},function(e){a.fuzzyList=e.body},function(a){r.popup(a.msg)},!0)},a.getFuzzyName=function(e){if(e&&(a.params3.code=""),!a.params2.memberNo)return void(a.fuzzyName="");for(var r in a.fuzzyList)a.fuzzyList[r].memberNo==a.params2.memberNo&&(a.fuzzyName=a.fuzzyList[r].name,a.address=a.fuzzyList[r].address)},a.searchFuzzy=function(){if(a.params3.code){var e="account/member/recommend.do";r.post(e,a.params3,{tokenId:sessionStorage.tokenId},function(e){a.params.provinceId=e.provinceId,a.params.cityId=e.cityId,a.params.areaId=e.areaId,a.params2.memberNo=e.memberNo,a.fuzzyName=e.name,a.address=e.address,a.getCity(),a.getArea(),a.getFuzzy()},function(e){r.popup(e.msg),a.params.provinceId="",a.params.cityId="",a.params.areaId="",a.params2.memberNo="",a.cityList=[],a.areaList=[],a.fuzzyList=[],a.fuzzyName=""},!0)}},a.back=function(){"h5"==i.from?o.go("userInfo"):appRuler.closePage()},appRuler.getUserInfo(function(a){sessionStorage.tokenId=a.tokenId}),a.getProvice(),t.fromTemplateUrl("confirm.html",{scope:a,animation:"slide-in-down"}).then(function(e){a.confirmModal=e})}])},36:function(a,e){}});