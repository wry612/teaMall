!function(e){function a(r){if(i[r])return i[r].exports;var t=i[r]={exports:{},id:r,loaded:!1};return e[r].call(t.exports,t,t.exports,a),t.loaded=!0,t.exports}var i={};return a.m=e,a.c=i,a.p="/app/dist/",a(0)}({0:function(e,a,i){i(28),i(7)},7:function(e,a){},28:function(e,a){"use strict";angular.module("addandEditAddress.ctrl",[]).controller("addandEditAddressCtrl",["$scope","$rootScope","appService","$state","$stateParams","$timeout",function(e,a,i,r,t,o){e.params={id:t.id||"",isDefault:0==t.isDefault?"0":"1",provinceId:t.provinceId||"",cityId:t.cityId||"",areaId:t.areaId||"",receiver:t.receiver||"",mobilePhone:t.mobilePhone||"",detailAddress:t.detailAddress||""},e.proviceList=[],e.cityList=[],e.areaList=[],e.getProvice=function(){var a="account/area/queryProvinces.do";i.post(a,{},{},function(a){e.proviceList=a},function(e){i.popup(e.msg)},!0)},e.getCity=function(){if(e.params.areaId="",e.areaList=[],!e.params.provinceId)return e.params.cityId="",void(e.cityList=[]);var a="account/area/queryCitys.do";i.post(a,{provinceId:e.params.provinceId},{},function(a){e.cityList=a},function(e){i.popup(e.msg)},!0)},e.getArea=function(){if(!e.params.cityId)return e.params.areaId="",void(e.areaList=[]);var a="account/area/queryAreas.do";i.post(a,{cityId:e.params.cityId},{tokenId:sessionStorage.tokenId},function(a){e.areaList=a},function(e){i.popup(e.msg)},!0)},e.submit=function(){if(console.log(e.params),e.params.receiver)if(e.params.mobilePhone)if(/^(1[3-9][0-9])\d{8}$/.test(e.params.mobilePhone))if(e.params.provinceId)if(e.params.cityId)if(e.params.areaId)if(e.params.detailAddress){var a="account/deliverAddress/add.do";t.id&&(a="account/deliverAddress/edit.do"),i.post(a,e.params,{tokenId:sessionStorage.tokenId},function(e){i.popup("保存成功!",null,function(){r.go("myAddress")})},function(e){i.popup(e.msg)},!0)}else i.popup("请输入详细地址");else i.popup("请选择区县");else i.popup("请选择城市");else i.popup("请选择省份");else i.popup("手机号格式不正确");else i.popup("请输入收货人手机号");else i.popup("请输入收货人姓名")},e.init=function(){e.getProvice(),t.id&&(e.getCity(),e.getArea(),e.params.provinceId=t.provinceId+"",e.params.cityId=t.cityId+"",e.params.areaId=t.areaId+"")},e.init()}])}});